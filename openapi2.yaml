openapi: '3.0.3'
info:
  title: Magical Playlist Sorter API alt
  version: '1.0'
servers:
  - url: https://api.server.test/v1

paths:
  /playlists:
    get:
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                # List of playlist objects (song lists are empty)
                type: object
                additionalProperties: 
                  $ref: '#/components/schemas/Playlist'
  /playlists/{id}:
    get:
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Playlist'
        "404":
          description: Not Found
    delete:
      responses:
        "200":
          description: OK
        "404":
          description: Not Found

components:
  schemas:
    Song:
      type: object
      properties:
        title:
          type: string
        artist:
          type: string
        lengthSeconds:
          type: integer
          description: Length of song in seconds, rounded up
        SpotSongID:
          $ref: '#/components/schemas/SpotSongID'
          nullable: true
        ApplSongID:
          $ref: '#/components/schemas/ApplSongID'
          nullable: true
        YTMSongID:
          $ref: '#/components/schemas/YTMSongID'
          nullable: true
        ratings:
          type: object
          additionalProperties: 
            $ref: '#/components/schemas/SongRating'
    SpotSongID:
      type: string
    YTMSongID:
      type: string
    ApplSongID:
      type: integer
    RatingCategory:
      type: object
      properties:
        title:
          type: string
        description:
          type: string
    SongRating:
      type: object
      properties:
        RatingCategory:
          $ref: '#/components/schemas/RatingCategory'
        value:
          type: integer
          minimum: -2
          maximum: 2
          nullable: true
    Playlist:
      type: object
      properties:
        name:
          type: string
        InternalID:
          type: string
          format: uuid
        SpotPlaylistID:
          type: string
          nullable: true
        YTMPlaylistID:
          type: string
          nullable: true
        ApplPlaylistID:
          type: integer
          nullable: true
        songs:
          type: object
          additionalProperties: 
            $ref: '#/components/schemas/Song'
      